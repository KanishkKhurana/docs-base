export const description =
  'In this guide, weâ€™ll look at how authentication works. Protocol offers two ways to authenticate your API requests: Basic authentication and OAuth2 with a token.'

## Authentication and Authorization Middleware
Batman added middleware to the Robyn application to verify the JWT tokens and to restrict access to certain endpoints based on the user's role.


```python {{ title: 'Setting up Authentication Middlewares' }}
from robyn.middleware import Middleware
from . import jwt_utils, schemas, crud
from robyn.authentication import AuthenticationHandler, BearerGetter, Identity


class BasicAuthHandler(AuthenticationHandler):
    def authenticate(self, request: Request) -> Optional[Identity]:
        authorization = req.headers.get("Authorization")
        if not authorization:
            return

        token = authorization.split(" ")[1]

        try:
            payload = jwt_utils.decode_access_token(token)
            user_id = payload["sub"]
        except JWTError:
            return

        user = crud.get_user(db, user_id)
        return Identity(claims={"user": user})


app.configure_authentication(BasicAuthHandler(token_getter=BearerGetter()))

def is_superuser(user: schemas.User):
    return user.is_superuser

@app.get("/users/me")
async def get_current_user(user: schemas.User = Depends(is_superuser)):
    return user

```

With the web application in place, the Gotham City Police Department could now efficiently manage crime data and track criminal activities in real-time. Batman had successfully used the Robyn web framework to build a real-world application to help fight crime in Gotham City.




<div className="not-prose">
  <Button
    href="/documentation/example_app/real_time_notifications"
    variant="text"
    arrow="right"
    children="Check out our list of first-party SDKs"
  />
</div>


